# å¾®ä¿¡å…¬ä¼—å·RSSä»£ç†è·¯ç”±

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¾®ä¿¡å…¬ä¼—å·RSSä»£ç†æœåŠ¡ï¼Œæ”¯æŒå†…å®¹è¿‡æ»¤ã€äº§å“ä¿¡æ¯è§£æå’Œæ–‡ä»¶ç”Ÿæˆã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ **RSSä»£ç†**: ä»£ç†å¾®ä¿¡å…¬ä¼—å·RSSæºï¼Œæä¾›ç¨³å®šçš„è®¿é—®æ–¹å¼
- ğŸ¯ **å†…å®¹è¿‡æ»¤**: æ”¯æŒåŒ…å«/æ’é™¤å…³é”®è¯è¿‡æ»¤ï¼Œçµæ´»çš„å†…å®¹ç­›é€‰
- ğŸ“Š **äº§å“è§£æ**: æ™ºèƒ½è§£æAppleäº§å“ä¿¡æ¯ï¼Œç”Ÿæˆè¡¨æ ¼åŒ–å±•ç¤º
- ğŸ“„ **æ–‡ä»¶ç”Ÿæˆ**: è‡ªåŠ¨ç”ŸæˆHTMLå’ŒJSONæ ¼å¼çš„äº§å“æ•°æ®æ–‡ä»¶
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: å†…ç½®ç¼“å­˜æœºåˆ¶ï¼Œ1å°æ—¶ç¼“å­˜æœ‰æ•ˆæœŸ
- ğŸŒ **å“åº”å¼è®¾è®¡**: ç”Ÿæˆçš„HTMLæ”¯æŒç§»åŠ¨ç«¯é€‚é…

## è·¯ç”±ç»“æ„

```
/we-mp-rss-proxy/:mp-id/:category/:include?
```

### å‚æ•°è¯´æ˜

- `mp-id`: å¾®ä¿¡å…¬ä¼—å·IDï¼Œä¾‹å¦‚ `MP_WXS_3941413004`
- `category`: åˆ†ç±»æ ‡ç­¾ï¼Œä¾‹å¦‚ `travel`ã€`default`ã€`lande`
- `include`: å¯é€‰çš„è¿‡æ»¤æ¡ä»¶ï¼Œæ”¯æŒä»¥ä¸‹æ ¼å¼ï¼š
  - `+æ—…æ¸¸,æ”»ç•¥`: åŒ…å«"æ—…æ¸¸"æˆ–"æ”»ç•¥"çš„å†…å®¹
  - `-å¹¿å‘Š,æ¨å¹¿`: æ’é™¤åŒ…å«"å¹¿å‘Š"æˆ–"æ¨å¹¿"çš„å†…å®¹
  - `+æ—…æ¸¸,-å¹¿å‘Š`: åŒ…å«"æ—…æ¸¸"ä½†æ’é™¤"å¹¿å‘Š"çš„å†…å®¹

## ä½¿ç”¨ç¤ºä¾‹

```bash
# è·å–æ‰€æœ‰å†…å®¹
/we-mp-rss-proxy/MP_WXS_3941413004/default

# æ ‡è®°ä¸ºæ—…æ¸¸åˆ†ç±»
/we-mp-rss-proxy/MP_WXS_3941413004/travel

# åªåŒ…å«"æ—…æ¸¸"æˆ–"æ”»ç•¥"çš„å†…å®¹
/we-mp-rss-proxy/MP_WXS_3941413004/travel/+æ—…æ¸¸,æ”»ç•¥

# æ’é™¤åŒ…å«"å¹¿å‘Š"æˆ–"æ¨å¹¿"çš„å†…å®¹
/we-mp-rss-proxy/MP_WXS_3941413004/default/-å¹¿å‘Š,æ¨å¹¿

# ç»„åˆè¿‡æ»¤ï¼šåŒ…å«"æ—…æ¸¸"ä½†æ’é™¤"å¹¿å‘Š"
/we-mp-rss-proxy/MP_WXS_3941413004/travel/+æ—…æ¸¸,-å¹¿å‘Š

# ç‰¹æ®Šåˆ†ç±»ï¼šåªä¿ç•™æ ‡é¢˜åŒ…å«"é›¶å”®å‚è€ƒæŠ¥ä»·"çš„æ–‡ç« 
/we-mp-rss-proxy/MP_WXS_2397228061/lande
```

## ç‰¹æ®ŠåŠŸèƒ½

### Landeåˆ†ç±»å¤„ç†

å½“ `category` è®¾ç½®ä¸º `lande` æ—¶ï¼Œä¼šï¼š

1. **è‡ªåŠ¨è¿‡æ»¤**: åªä¿ç•™æ ‡é¢˜åŒ…å«"é›¶å”®å‚è€ƒæŠ¥ä»·"çš„æ–‡ç« 
2. **äº§å“è§£æ**: æ™ºèƒ½è§£æAppleäº§å“ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
   - äº§å“åç§°å’Œå‹å·
   - å­˜å‚¨å®¹é‡å’Œé¢œè‰²
   - ä»·æ ¼ä¿¡æ¯
   - ç‰ˆæœ¬å’Œåœ°åŒºä¿¡æ¯
3. **è¡¨æ ¼ç”Ÿæˆ**: ç”Ÿæˆç¾è§‚çš„äº§å“ä»·æ ¼è¡¨æ ¼
4. **æ–‡ä»¶å¯¼å‡º**: è‡ªåŠ¨ç”ŸæˆHTMLå’ŒJSONæ–‡ä»¶ï¼ˆå¯é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶ï¼‰

### äº§å“ä¿¡æ¯è§£æ

æ”¯æŒè§£æçš„Appleäº§å“ç±»åˆ«ï¼š
- iPhoneç³»åˆ—ï¼ˆåŒ…å«Proã€Pro Maxã€Plusã€miniç­‰å‹å·ï¼‰
- iPadç³»åˆ—ï¼ˆåŒ…å«Proã€Airã€miniç­‰å‹å·ï¼‰
- Macç³»åˆ—ï¼ˆMacBookã€iMacã€Mac Proç­‰ï¼‰
- Apple Watchç³»åˆ—
- AirPodsç³»åˆ—

### æ’åºè§„åˆ™

äº§å“æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§æ’åºï¼š
1. **äº§å“ç³»åˆ—**: iPhone > iPad > Mac > Apple Watch > AirPods
2. **iPhoneå‹å·**: æ–°å‹å·ä¼˜å…ˆï¼ˆ17 > 16 > 15...ï¼‰
3. **äº§å“ç­‰çº§**: Pro Max > Pro > Plus > æ ‡å‡† > mini
4. **å­˜å‚¨å®¹é‡**: å®¹é‡å¤§çš„ä¼˜å…ˆ
5. **ç‰ˆæœ¬åœ°åŒº**: å›½è¡Œ > æ¸¯è¡Œ > å°ç‰ˆ > ç¾ç‰ˆ > æ¬§ç‰ˆ

## æ¨¡å—æ¶æ„

```
lib/routes/we-mp-rss-proxy/
â”œâ”€â”€ index.ts              # ä¸»è·¯ç”±æ–‡ä»¶
â”œâ”€â”€ html/                  # HTMLæ–‡ä»¶è¾“å‡ºç›®å½•
â”‚   â””â”€â”€ *.html            # ç”Ÿæˆçš„HTMLæ–‡ä»¶
â”œâ”€â”€ data/                  # JSONæ–‡ä»¶è¾“å‡ºç›®å½•
â”‚   â””â”€â”€ *.json            # ç”Ÿæˆçš„JSONæ•°æ®æ–‡ä»¶
â”œâ”€â”€ utils/                # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ html-processor.ts # HTMLå†…å®¹å¤„ç†
â”‚   â”œâ”€â”€ product-parser.ts # äº§å“ä¿¡æ¯è§£æ
â”‚   â”œâ”€â”€ price-processor.ts # ä»·æ ¼å¤„ç†å’Œæ’åº
â”‚   â”œâ”€â”€ file-generator.ts  # æ–‡ä»¶ç”Ÿæˆ
â”‚   â””â”€â”€ content-filter.ts  # å†…å®¹è¿‡æ»¤
â””â”€â”€ README.md             # æœ¬æ–‡æ¡£
```

### æ¨¡å—è¯´æ˜

#### html-processor.ts
- `extractText()`: æå–HTMLçº¯æ–‡æœ¬
- `isGifImage()`: åˆ¤æ–­å›¾ç‰‡æ˜¯å¦ä¸ºGIFæ ¼å¼
- `cleanHtmlContent()`: æ¸…ç†HTMLå†…å®¹ï¼Œæ”¯æŒå…³é”®è¯é‡æ’

#### product-parser.ts
- `ProductInfo`: äº§å“ä¿¡æ¯æ¥å£å®šä¹‰
- `detectBrand()`: å“ç‰Œæ£€æµ‹ï¼ˆä»…æ”¯æŒAppleäº§å“ï¼‰
- `formatProductName()`: äº§å“åç§°æ ¼å¼åŒ–
- `parseLandeContent()`: è§£æäº§å“ä¿¡æ¯æ–‡æœ¬

#### price-processor.ts
- `parsePrices()`: è§£æä»·æ ¼ä¿¡æ¯
- `extractPricesFromText()`: ä»æ–‡æœ¬æå–ä»·æ ¼
- `compareiPhoneProducts()`: iPhoneäº§å“ä¸“ç”¨æ’åº
- `getProductSortWeight()`: äº§å“æ’åºæƒé‡è®¡ç®—

#### file-generator.ts
- `generateProductTable()`: ç”Ÿæˆäº§å“è¡¨æ ¼HTML
- `generateLandeHtml()`: ç”ŸæˆHTMLæ–‡ä»¶
- `generateLandeJson()`: ç”ŸæˆJSONæ–‡ä»¶

#### content-filter.ts
- `parseFilterParams()`: è§£æè¿‡æ»¤å‚æ•°
- `applyContentFilter()`: åº”ç”¨å†…å®¹è¿‡æ»¤å™¨

## ç¯å¢ƒå˜é‡

- `ENABLE_LANDE_HTML`: æ§åˆ¶HTMLæ–‡ä»¶ç”Ÿæˆï¼ˆé»˜è®¤: `false`ï¼‰
- `ENABLE_LANDE_JSON`: æ§åˆ¶JSONæ–‡ä»¶ç”Ÿæˆï¼ˆé»˜è®¤: `true`ï¼‰

## æ–‡ä»¶è¾“å‡º

å½“å¯ç”¨æ–‡ä»¶ç”ŸæˆåŠŸèƒ½æ—¶ï¼Œä¼šåœ¨ä»¥ä¸‹ä½ç½®ç”Ÿæˆæ–‡ä»¶ï¼š

```
lib/routes/we-mp-rss-proxy/
â”œâ”€â”€ html/                  # HTMLæ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ *.html            # ç”Ÿæˆçš„HTMLæ–‡ä»¶ (æ ¼å¼: yyyy-mm-dd-price.html)
â”œâ”€â”€ data/                  # JSONæ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ *.json            # ç”Ÿæˆçš„JSONæ•°æ®æ–‡ä»¶ (æ ¼å¼: yyyy-mm-dd-price.json)
â”œâ”€â”€ index.ts              # ä¸»è·¯ç”±æ–‡ä»¶
â””â”€â”€ utils/                # å·¥å…·æ¨¡å—
    â”œâ”€â”€ html-processor.ts
    â”œâ”€â”€ product-parser.ts
    â”œâ”€â”€ price-processor.ts
    â”œâ”€â”€ file-generator.ts
    â””â”€â”€ content-filter.ts
```

### æ–‡ä»¶å‘½åè§„åˆ™

- **HTMLæ–‡ä»¶**: `yyyy-mm-dd-price.html`
- **JSONæ–‡ä»¶**: `yyyy-mm-dd-price.json`
  - `yyyy-mm-dd`: ä»æ–‡ç« æ ‡é¢˜æå–çš„æ—¥æœŸ
  - `price`: ç¬¬ä¸€ä¸ªäº§å“çš„ä»·æ ¼ï¼Œå¦‚ `price-9570` æˆ– `no-price`

## ç¼“å­˜æœºåˆ¶

- **ç¼“å­˜æ—¶é—´**: 1å°æ—¶
- **ç¼“å­˜é”®**: åŸºäºmp-idã€categoryå’Œfilterå‚æ•°ç”Ÿæˆ
- **ç¼“å­˜ç­–ç•¥**: ä¸åŒå‚æ•°ç»„åˆæœ‰ç‹¬ç«‹ç¼“å­˜

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®æº**: ä¾èµ–äº `https://we-mp-rss.trainspott.in` çš„RSSæ•°æ®
2. **äº§å“é™åˆ¶**: å½“å‰äº§å“è§£æä»…æ”¯æŒAppleäº§å“ï¼Œå…¶ä»–å“ç‰Œä¼šè¢«è¿‡æ»¤
3. **æ–‡ä»¶è¦†ç›–**: ç”Ÿæˆçš„æ–‡ä»¶ä¸ä¼šè¦†ç›–å·²å­˜åœ¨çš„åŒåæ–‡ä»¶
4. **é”™è¯¯å¤„ç†**: åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿æœåŠ¡ç¨³å®šæ€§

## ç»´æŠ¤ä¿¡æ¯

- **ç»´æŠ¤è€…**: your-username
- **åˆ†ç±»**: new-media, social-media
- **ä¾èµ–é¡¹ç›®**: RSSHub
- **æŠ€æœ¯æ ˆ**: TypeScript, Hono, Cheerio

## æ›´æ–°æ—¥å¿—

### v2.0.0 - æ¨¡å—åŒ–é‡æ„
- âœ¨ å®Œå…¨é‡æ„ä»£ç æ¶æ„ï¼Œå®ç°æ¨¡å—åŒ–è®¾è®¡
- ğŸ“¦ å°†1300+è¡Œä»£ç æ‹†åˆ†ä¸º5ä¸ªä¸“é—¨æ¨¡å—
- ğŸš€ æå‡ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§
- ğŸ¯ ä¿æŒæ‰€æœ‰åŸæœ‰åŠŸèƒ½ä¸å˜
- ğŸ“š å®Œå–„çš„æ–‡æ¡£å’Œç±»å‹å®šä¹‰